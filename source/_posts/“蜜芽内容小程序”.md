---
title: 蜜芽内容小程序
date: 2019-04-19 16:46:04
tags: [蜜芽, 自有品牌荟小程序]
cover_img:
feature_img:
description:
keywords:
---
### 工时预估
#### 重构估时
1. 登录模块 重构0.6
2. 品牌模块 重构1
3. 首页模块 重构1
4. 我的模块 重构0.5

#### 各模块估时
- 重构总时间 3.1
- 基本交互总时间 3
- 数据交互总时间 3
- 开发总耗时 1

#### 联调测试估时
联调测试总时间 8.1

#### 项目开发上线总耗时
预计总花费工时为 20.1
### 问题整理
1. 首页搜索是跳转新页面
2. 点赞样式不可点赞会不会对用户差生困惑
3. 首页banner：取后台配置banner，点击跳转到配置链接。（这个是所有人都跳到后台配置页面吗？）
4. 用户昵称过长的截断…（字数多长进行截断）
5. 首页banner背景虚化
6. 品牌素材库的图片展示方式
7. 只有话题详情页可以点赞吗？

### 工程化技术栈选择

### 结构拆分
1. 登录模块
  - 弹窗
  - 倒计时
  - 电话号码脱敏
2. 品牌模块
  - tab切换
  - 富文本解析
  - 视频播放
3. 首页模块
  - swiper
  - 搜索
  - 图片预览
  - 左右两侧瀑布流
  - 富文本解析
4. 我的
### 组件拆分
我的-我喜欢的item === 首页-今日精选item

品牌
- 品牌新闻item
- 品牌故事item
- 品牌素材item微信小程序+前端架构微信小程序+前端架构

首页
- 热门分类item
- 评论item
### 复用代码块
1. 显示省略号
```
// 单行省略号
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;

// 多行省略号
display: -webkit-box;
overflow: hidden;
-webkit-line-clamp: 2;
-webkit-box-orient: vertical;

// 多行省略号
.wrap {
  height: 40px;
  line-height: 20px;
  overflow: hidden;
}
.wrap .text {
  float: right;
  margin-left: -5px;
  width: 100%;
  word-break: break-all;
}
.wrap::before {
  float: left;
  width: 5px;
  content: '';
  height: 40px;
}
.wrap::after {
  float: right;
  content: "...";
  height: 20px;
  line-height: 20px;
  /* 为三个省略号的宽度 */
  width: 3em;
  /* 使盒子不占位置 */
  margin-left: -3em;
  /* 移动省略号位置 */
  position: relative;
  left: 100%;
  top: -20px;
  padding-right: 5px;
}
```
2. 流式布局
```
column-count: 2;
column-width: 334rpx;
column-gap: 23rpx;
```
3. 修改页面title
```
wx.setNavigationBarTitle({
  title: '当前页面'
})
```
4. 懒加载
[微信小程序实现滚动加载更多](https://zhuanlan.zhihu.com/p/32869791)
5. 图片限宽高度自适应
```
mode="widthFix"
```
6. 倒计时

#### reference links
[微信小程序wx.request的简单封装](https://juejin.im/post/5b050e5651882542816aabfa)
[小程序各种姿势实现登录](https://juejin.im/post/5b6f137ee51d4566252aadb5)
[微信小程序实现滚动加载更多](https://zhuanlan.zhihu.com/p/32869791)
[微信小程序Video组件实践总结](https://juejin.im/post/5c4ee15cf265da61193c32f2)
