---
title: 开发环境优化之旅
date: 2019-08-14 15:08:33
tags: [开发环境]
cover_img:
feature_img:
description:
keywords:
---
为什么写这篇文章呢。现在的开发模式实在是太影响效率了。

#### 这次做的需求是app内嵌h5。细数开发遇到的几宗罪。
1、文件嵌套层级太深，前端目录结构应该为 /project/
2、php嵌套html，同时css由scss编译生成。需要启动gulp，然后执行sync.sh。实在难言友好
3、测试环境修改复杂。需要在自己分支开发，然后合并到测试分支看效果。
4、开发和测试互相不理解。开发本地没问题，测试环境测试效果不达预期。各说各话，原因在于测试并不知道自己测试的是不是最新的文件。
5、前端线上问题修改完需要后端上线。

#### 针对以上问题提出我理解的解决方案。
1、订制统一的脚手架。

```javascript
    - mia dev 进行开发
    - mia dist 打包文件
    - mia upload 上传文件到测试环境&预发环境（文件增加日期戳，测试验证前确定是新文件）
    - mia check 进行代码检查
```
2、前端需要单独的测试服务器。
``` javascript
    - 测试环境 后端测试host 前端host
    - 预发环境 后端仿真host 前端host
```
3、前端单独上线前端的文件
