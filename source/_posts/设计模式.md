---
title: 设计模式
date: 2019-07-02 17:17:27
tags:
cover_img:
feature_img:
description:
keywords:
---
#### 设计模式六大原则
1. 单一原则
2. 对扩展开放对修改关闭
3. 组合大于继承
4. 接口隔离原则
5. 依赖倒置原则
6. 高内聚低耦合

#### 设计模式主要分类
1. 创建型
    - 工厂模式（解决批量生产的问题）
    ```
    function factor(type) {
        let _str = `this is ${type} App.`
        return _str;
    }
    ```
    - 建造者模式(关心建造过程)
    ```
    new Vue({
        el: '',
        data: ''
    })
    ```
    - 原型模式
    - 单例模式(全局有且只有一个)
    ```
    functon Person() {
        if (window.p == this) {
            return this;
        } else {
            return new Person()
        }
    }
    let p =new Person();
    ```
2. 结构型
    - 外观（把多个接口统一成一个接口调用）
    - 适配器（做一个转接口，转换数据格式）
    ```
    A.xx();
    function adapt() {
        window.A = B;
        A.xx = B.xx;
    }
    ```
    - 装饰者
    ```
    var _fn = A.xx;
    A.xx = function() {
        _fn.call(A);
        // 加入扩展功能
    }
    ```
    - 享元模式（提取公共部分）
    - 桥接模式
3. 行为型
    - 观察者、订阅发布模式(解决两个无法沟通的模块可以沟通)
    ```
    function obs() {
        this.callback = {}
    }
    obs.prototype.on = function(type, fn) {
        this.callback[type] = fn;
    }
    obs.prototype.emit = function(type) {
        this.callback[type]();
    }

    var ob = new obs();
    ob.on('test', function() {
        console.log('i am a test');
    })
    ob.emit('test);
    ```
    - 状态/策略模式（解决if else过多的问题）
    ```
    function deal(type) {
        if (type == 1) {

        } else if() {

        } else {

        }
    }

    function deal(type) {
        var cator = {
            type1: function() {

            },
            type2: function() {

            }
            ...
        }
        cator[type]();
    }
    ```
    - 命令模式(具体的操作和实现节耦，对复杂操作进行节耦)
    - 指责链模式（把程序分成一个一个模块，让根据指责链接调用）
    - 迭代器模式
    - 访问者模式
4. 技巧型
    - 链接模式
    - 委托模式
    - 节流模式
    - 惰性模式
    - 等待者模式
